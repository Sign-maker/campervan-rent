import{u as T,a as h,r as m,c as x,f as M,j as a,b as q,R as d}from"./index-BWWdHRua.js";const R=e=>e.cars.campers,A=e=>e.cars.totalPages,U=e=>e.cars.isLoading,G=e=>e.cars.favorites,D=()=>{const e=T(),t=h(A),r=h(R),s=h(G),o=h(U),n=m.useCallback(()=>e(x.actions.resetCars()),[e]),i=l=>e(x.actions.addToFavorite(l)),u=l=>e(x.actions.removeFromFavorite(l)),c=m.useCallback(l=>e(M(l)).unwrap(),[e]);return{cars:r,favoriteCars:s,totalPages:t,isLoading:o,fetchCars:c,addCarToFavorite:i,removeCarFromFavorite:u,resetCars:n}},H="_item_1hubf_1",V="_imgWrapper_1hubf_15",K="_descrWrapper_1hubf_31",J="_titleWrapper_1hubf_35",Q="_priceWrapper_1hubf_42",X="_favoriteBtn_1hubf_48",Y="_statsWrapper_1hubf_52",Z="_description_1hubf_58",ee="_futureListWrapper_1hubf_67",p={item:H,imgWrapper:V,descrWrapper:K,titleWrapper:J,priceWrapper:Q,favoriteBtn:X,statsWrapper:Y,description:Z,futureListWrapper:ee},te="/campervan-rent/assets/icons-CIa-3den.svg",re={"icon-main":"_icon-main_uvver_1","icon-red":"_icon-red_uvver_4"},f=({iconName:e,width:t="20",height:r="20",className:s="icon-main"})=>a.jsx("svg",{width:t,height:r,className:re[s],children:a.jsx("use",{xlinkHref:`${te}#${e}`})}),se="_featuteItem_1djg5_1",ae={featuteItem:se},ne=({name:e,value:t,iconName:r})=>a.jsxs("li",{className:ae.featuteItem,children:[a.jsx(f,{iconName:r,width:"20",height:"20"}),typeof t=="number"?a.jsx("span",{children:t>1?`${t} ${e}s`:`${e.charAt(0).toUpperCase()+e.slice(1)}`}):a.jsx("span",{children:t.charAt(0).toUpperCase()+t.slice(1)})]}),oe="_featureList_1iabn_1",ce={featureList:oe},ie=6,le=({car:e,shortView:t=!1})=>{const{adults:r,transmission:s,engine:o,details:n}=e,i=[{name:"adult",value:r,iconName:"icon-users"},{name:"transmission",value:s,iconName:"icon-gearbox"},{name:"engine",value:o,iconName:"icon-petrol"},{name:"kitchen",value:n.kitchen,iconName:"icon-kitchen"},{name:"bed",value:n.beds,iconName:"icon-bed"},{name:"AC",value:n.airConditioner,iconName:"icon-ac"},{name:"CD",value:n.CD,iconName:"icon-cd"},{name:"radio",value:n.radio,iconName:"icon-radio"},{name:"hob",value:n.hob,iconName:"icon-hob"},{name:"toilet",value:n.toilet,iconName:"icon-toilet"},{name:"shower",value:n.shower,iconName:"icon-shower"},{name:"freezer",value:n.freezer,iconName:"icon-freezer"},{name:"gas",value:n.gas,iconName:"icon-gas"},{name:"water",value:n.water,iconName:"icon-water"},{name:"microwave",value:n.microwave,iconName:"icon-microwave"}],u=t?i.slice(0,ie):i;return a.jsx("ul",{className:ce.featureList,children:u.map(({name:c,value:l,iconName:g},b)=>l?a.jsx(ne,{name:c,value:l,iconName:g},b):null)})},ue="_button_1qzzh_1",pe="_loadMoreButton_1qzzh_19",C={button:ue,loadMoreButton:pe},de=({styleType:e="common",loading:t=!1,onClick:r,children:s})=>a.jsx("button",{disabled:t,className:e==="loadMore"?C.loadMoreButton:C.button,type:"button",onClick:r,children:s}),me="_backdrop_1uwif_1",he={backdrop:me},fe=document.querySelector("#modal-root"),_e=({onClose:e,children:t})=>{m.useEffect(()=>{document.body.style.overflow="hidden";const s=o=>{o.code==="Escape"&&e()};return document.addEventListener("keydown",s),()=>{document.body.style.overflow="auto",document.removeEventListener("keydown",s)}},[e]);const r=s=>{s.target===s.currentTarget&&e()};return q.createPortal(a.jsx("div",{className:he.backdrop,onClick:r,children:t}),fe)},ve="_wrapper_qgeuw_1",ge="_closeBtn_qgeuw_8",be="_closeIcon_qgeuw_18",w={wrapper:ve,closeBtn:ge,closeIcon:be};var L={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},y=d.createContext&&d.createContext(L),je=["attr","size","title"];function xe(e,t){if(e==null)return{};var r=we(e,t),s,o;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function we(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},_.apply(this,arguments)}function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,s)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W(Object(r),!0).forEach(function(s){Ne(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Ne(e,t,r){return t=Ce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ce(e){var t=ye(e,"string");return typeof t=="symbol"?t:t+""}function ye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function I(e){return e&&e.map((t,r)=>d.createElement(t.tag,v({key:r},t.attr),I(t.child)))}function S(e){return t=>d.createElement(We,_({attr:v({},e.attr)},t),I(e.child))}function We(e){var t=r=>{var{attr:s,size:o,title:n}=e,i=xe(e,je),u=o||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),d.createElement("svg",_({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,s,i,{className:c,style:v(v({color:e.color||r.color},r.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),n&&d.createElement("title",null,n),e.children)};return y!==void 0?d.createElement(y.Consumer,null,r=>t(r)):t(L)}function Oe(e){return S({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M400 145.49 366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z"},child:[]}]})(e)}const Pe=({onClose:e})=>a.jsxs("div",{className:w.wrapper,children:["CarDetails",a.jsx("button",{type:"button",onClick:e,className:w.closeBtn,children:a.jsx(Oe,{size:"32",className:w.closeIcon})})]}),$e="_gallery_15646_1",De="_imgWrapper_15646_6",O={gallery:$e,imgWrapper:De},Le=({name:e,gallery:t,countToShow:r})=>{const s=t.slice(0,r);return a.jsx("div",{className:O.gallery,children:a.jsx("ul",{children:s.map((o,n)=>a.jsx("li",{className:O.imgWrapper,children:a.jsx("img",{src:o,loading:"lazy",alt:e})},n))})})},Ie="_price_2dpql_1",Se={price:Ie},Be=({price:e})=>a.jsxs("span",{className:Se.price,children:["â‚¬",e.toFixed(2)]}),Ee="_title_4sime_1",Fe="_short_4sime_7",P={title:Ee,short:Fe},ze=({title:e,short:t=!1})=>a.jsx("h3",{className:`${P.title} ${t&&P.short}`,children:e});function ke(e){return S({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"},child:[]}]})(e)}const Te="_raitingWrapper_tqp4a_1",Me="_ratingDescr_tqp4a_5",qe="_star_tqp4a_10",N={raitingWrapper:Te,ratingDescr:Me,star:qe},Re=({rating:e,reviews:t})=>a.jsxs("div",{className:N.raitingWrapper,children:[a.jsx(ke,{className:N.star,size:16}),a.jsx("span",{className:N.ratingDescr,children:`${e}(${t.length} Review${t.length===1?"":"s"})`})]}),Ae="_locationWrapper_1wdwr_1",Ue="_locationDescr_1wdwr_6",$={locationWrapper:Ae,locationDescr:Ue},Ge=({location:e})=>{const t=r=>r.split(",").reverse().join(", ").trimStart();return a.jsxs("div",{className:$.locationWrapper,children:[a.jsx(f,{iconName:"icon-map-pin",width:"16",height:"16"}),a.jsx("span",{className:$.locationDescr,children:t(e)})]})},He=({car:e})=>{const[t,r]=m.useState(!1),{favoriteCars:s,addCarToFavorite:o,removeCarFromFavorite:n}=D(),[i,u]=m.useState(()=>s.findIndex(({_id:k})=>e._id===k)!==-1),{name:c,price:l,rating:g,location:b,description:B,gallery:E,reviews:F}=e,z=()=>{i?n(e._id):o(e),u(!i)},j=()=>r(!t);return a.jsxs("li",{className:p.item,children:[a.jsx(Le,{name:c,gallery:E,countToShow:1}),a.jsxs("div",{className:p.descrWrapper,children:[a.jsxs("div",{className:p.titleWrapper,children:[a.jsx(ze,{title:c,short:!0}),a.jsxs("div",{className:p.priceWrapper,children:[a.jsx(Be,{price:l}),a.jsx("button",{className:p.favoriteBtn,type:"button",onClick:z,children:i?a.jsx(f,{iconName:"icon-heart-red",width:"24",height:"24",className:"icon-red"}):a.jsx(f,{iconName:"icon-heart-black",width:"24",height:"24"})})]})]}),a.jsxs("div",{className:p.statsWrapper,children:[a.jsx(Re,{rating:g,reviews:F}),a.jsx(Ge,{location:b})]}),a.jsx("p",{className:p.description,children:B}),a.jsx("div",{className:p.futureListWrapper,children:a.jsx(le,{car:e,shortView:!0})}),a.jsx(de,{onClick:j,children:"Show more"}),t&&a.jsx(_e,{onClose:j,children:a.jsx(Pe,{onClose:j})})]})]})},Ve="_list_1v7tc_1",Ke={list:Ve},Xe=({showFavorites:e=!1})=>{const{cars:t,favoriteCars:r}=D(),s=e?r:t;return a.jsx(a.Fragment,{children:a.jsx("ul",{className:Ke.list,children:s.map(o=>a.jsx(He,{car:o},o._id))})})};export{de as B,Xe as C,D as u};
