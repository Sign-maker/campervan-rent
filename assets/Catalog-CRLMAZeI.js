import{r as e,j as t,B as u}from"./index-BWWdHRua.js";import{u as g,C as j,B as x}from"./CarList-Bf-ADKAn.js";const C="_content_jqthi_1",b="_btnWrapper_jqthi_5",l={content:C,btnWrapper:b},E=()=>{const{cars:i,totalPages:o,fetchCars:n,resetCars:c,isLoading:r}=g(),[d,h]=e.useState(!1),[s,p]=e.useState(1);e.useEffect(()=>{const a=new AbortController,m=a.signal;return(async()=>{try{await n({params:{page:s},signal:m}),s>1&&window.scrollBy({top:384,behavior:"smooth"})}catch{u.error("Ooops.. something went wrong!")}})(),()=>{a.abort()}},[n,s]),e.useEffect(()=>{h(s<o)},[s,o]),e.useEffect(()=>()=>{c()},[c]);const f=()=>{p(a=>a+1)};return t.jsx("section",{children:t.jsx("div",{className:"container",children:t.jsxs("div",{className:l.content,children:[t.jsx("h2",{className:"visually-hidden",children:"Campers catalog"}),i.length>0?t.jsx(j,{}):!r&&t.jsx("p",{children:"No data"}),d&&t.jsx("div",{className:l.btnWrapper,children:t.jsx(x,{styleType:"loadMore",loading:r,onClick:f,children:"Load more"})}),r&&t.jsx("p",{children:"...Loading Cars"})]})})})};export{E as default};
